# Copilot Instructions for 家計簿アプリ (Web)

## このドキュメントについて

- GitHub Copilot や各種 AI ツールが本リポジトリのコンテキストを理解しやすくするためのガイドです。
- 新しい機能を実装する際はここで示す技術選定・設計方針・モジュール構成を前提にしてください。
- 不確かな点がある場合は、リポジトリのファイルを探索し、ユーザーに「こういうことですか?」と確認をするようにしてください。

# 前提条件

- 回答は必ず日本語でしてください。
- コードの変更をする際、変更量が200行を超える可能性が高い場合は、事前に「この指示では変更量が200行を超える可能性がありますが、実行しますか?」とユーザーに確認をとるようにしてください。
- 何か大きい変更を加える場合、まず何をするのか計画を立てた上で、ユーザーに「このような計画で進めようと思います。」と提案してください。この時、ユーザーから計画の修正を求められた場合は計画を修正して、再提案をしてください。

## アプリ概要

**家計簿アプリ (Web)** は、収入・支出管理と予算管理を統合したWebアプリケーションです。ユーザーとその家族が使用することを想定しています。

### 主な機能

- **予算管理**: 月次予算の設定と予算と実績の比較を行える。
- **認証**: アカウント登録、ログイン、ログアウト、パスワードリセットを行える
- **グループ機能**: 家族やルームメイトとグループを作成し、収支を共有できる
- **収支管理**: 収入・支出の記録、編集、削除が可能
- **カテゴリー管理**: 収支をカテゴリ別に分類
- **レポート機能**: 月次のサマリー、カテゴリー別集計を見ることができる。

# 技術スタック
- Hono (バックエンドフレームワーク)
- jest (テストフレームワーク)
- TypeScript (プログラミング言語)
- PostgreSQL (データベース)

# ディレクトリ構成
kakeibo-back/
├── .github/
│   ├── copilot-instructions.md
│   └── prompts/
├── bin/
│   └── kakeibo-back.ts          # CDKアプリのエントリーポイント
├── lambda/
│   └── index.ts                 # Lambda関数のハンドラー
├── lib/
│   └── kakeibo-back-stack.ts    # CDKスタック定義
├── test/
│   └── kakeibo-back.test.ts     # テストファイル
├── .gitignore
├── .npmignore
├── cdk.json                     # CDK設定ファイル
├── docker-compose.yml           # ローカル開発用Docker設定
├── jest.config.js               # Jestテスト設定
├── package.json
├── pnpm-lock.yaml
├── README.md
└── tsconfig.json                # TypeScript設定

# ソフトウェア開発ポリシー

- `docs/development-policy.md`: コーディング規約、ブランチ戦略
- `docs/review-policy.md`: コードレビュー基準、チェックリスト

# 守るべきこと
- 一貫したコードスタイルを保つこと。プロジェクトで採用されているスタイルガイドに従うこと。
- envファイルの参照、変更は行わないこと。環境変数はprocess.envを通じてアクセスすること。

# 開発ドキュメント
- `docs/`
